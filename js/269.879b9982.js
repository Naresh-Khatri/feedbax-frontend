"use strict";(self["webpackChunkfeedbax"]=self["webpackChunkfeedbax"]||[]).push([[269],{4269:(e,t,a)=>{a.r(t),a.d(t,{default:()=>te});var l=a(3673),s=a(2323);const i=e=>((0,l.dD)("data-v-94d9a2ce"),e=e(),(0,l.Cn)(),e),n={class:"q-pa-md"},o={class:"text-center text-black text-h4"},r=i((()=>(0,l._)("div",{class:"text-center text-black text-subtitle q-ma-md"}," Rate this presentation ",-1))),d={class:"flex flex-center",style:{width:"100%"}},c=["src"],m={class:"text-center text-black"},u={class:"row"},g=i((()=>(0,l._)("div",{class:"text-h5"},"Did you understand the basic idea?",-1))),h={class:"flex flex-center col text-h5"},p=i((()=>(0,l._)("div",{class:"text-h5"},"Slides",-1))),w={class:"row"},f={class:"flex flex-center col text-h5"},b=i((()=>(0,l._)("div",{class:"text-h5"},"Fluency",-1))),v={class:"row"},x={class:"flex flex-center col text-h5"},_=i((()=>(0,l._)("div",{class:"text-h5"},"Overall",-1))),k={class:"row"},y={class:"flex flex-center col text-h5"},S=i((()=>(0,l._)("div",{class:"text-h5 q-mb-md"},"Message",-1))),V=i((()=>(0,l._)("div",{class:"text-h4 text-center"},"Feedbacks",-1))),q={class:"text-h5 text-center q-pa-sm"};function W(e,t,a,i,W,z){const F=(0,l.up)("q-input"),O=(0,l.up)("q-expansion-item"),I=(0,l.up)("q-card-section"),B=(0,l.up)("q-rating"),U=(0,l.up)("q-btn"),Z=(0,l.up)("q-icon"),C=(0,l.up)("Feedback",!0),Q=(0,l.up)("q-card"),$=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)($,{class:"",style:{overflow:"hidden"}},{default:(0,l.w5)((()=>[(0,l._)("div",n,[(0,l._)("div",o,(0,s.zw)(W.topic),1),r,(0,l._)("div",d,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(W.presenters,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t},[(0,l._)("div",null,[(0,l._)("img",{style:{width:"100px",height:"100px","border-radius":"50%","margin-right":"20px"},src:e.avatarURL,alt:""},null,8,c)]),(0,l._)("div",m,(0,s.zw)(e.name),1)])))),128))])]),(0,l.Wm)(Q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(I,{class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(O,{class:"",label:"Your Info (optional)",expanded:!0},{default:(0,l.w5)((()=>[(0,l.Wm)(F,{class:"q-ma-md",dense:"",outlined:"",modelValue:W.name,"onUpdate:modelValue":t[0]||(t[0]=e=>W.name=e),"bg-color":"white",label:"Name"},null,8,["modelValue"]),(0,l.Wm)(F,{class:"q-ma-md",dense:"",outlined:"",modelValue:W.roll,"onUpdate:modelValue":t[1]||(t[1]=e=>W.roll=e),"bg-color":"white",label:"Roll No."},null,8,["modelValue"]),(0,l.Wm)(F,{class:"q-ma-md",dense:"",outlined:"",modelValue:W.email,"onUpdate:modelValue":t[2]||(t[2]=e=>W.email=e),"bg-color":"white",label:"Email"},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(I,{class:"bg-white"},{default:(0,l.w5)((()=>[(0,l._)("div",u,[g,(0,l.Wm)(B,{modelValue:W.ratingBasic,"onUpdate:modelValue":t[3]||(t[3]=e=>W.ratingBasic=e),class:"col-grow",min:"1",max:"5",size:"3em",color:"yellow",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":""},null,8,["modelValue"]),(0,l._)("span",h,(0,s.zw)(W.ratingBasic),1)])])),_:1}),(0,l.Wm)(I,{class:"bg-white"},{default:(0,l.w5)((()=>[p,(0,l._)("div",w,[(0,l.Wm)(B,{modelValue:W.ratingSlides,"onUpdate:modelValue":t[4]||(t[4]=e=>W.ratingSlides=e),class:"col-grow",min:"1",max:"5",size:"3em",color:"yellow",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":""},null,8,["modelValue"]),(0,l._)("span",f,(0,s.zw)(W.ratingSlides),1)])])),_:1}),(0,l.Wm)(I,{class:"bg-white"},{default:(0,l.w5)((()=>[b,(0,l._)("div",v,[(0,l.Wm)(B,{modelValue:W.ratingFluency,"onUpdate:modelValue":t[5]||(t[5]=e=>W.ratingFluency=e),class:"col-grow",min:"1",max:"5",size:"3em",color:"yellow",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":""},null,8,["modelValue"]),(0,l._)("span",x,(0,s.zw)(W.ratingFluency),1)])])),_:1}),(0,l.Wm)(I,{class:"bg-white"},{default:(0,l.w5)((()=>[_,(0,l._)("div",k,[(0,l.Wm)(B,{modelValue:W.ratingOverall,"onUpdate:modelValue":t[6]||(t[6]=e=>W.ratingOverall=e),class:"col-grow",min:"1",max:"5",size:"3em",color:"yellow",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":""},null,8,["modelValue"]),(0,l._)("span",y,(0,s.zw)(W.ratingOverall),1)])])),_:1}),(0,l.Wm)(I,{class:"bg-white"},{default:(0,l.w5)((()=>[S,(0,l.Wm)(F,{modelValue:W.message,"onUpdate:modelValue":t[7]||(t[7]=e=>W.message=e),filled:"",type:"textarea"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(I,{class:"bg-white flex justify-end"},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{onClick:z.submit,label:"SendðŸ‘Œ",size:"lg","text-color":"white",class:"q-ma-md gradient"},null,8,["onClick"])])),_:1}),(0,l.Wm)(I,{class:"bg-white"},{default:(0,l.w5)((()=>[V,(0,l._)("div",q,[(0,l.Uk)(" Average Star: "+(0,s.zw)(W.avgStars)+" ",1),(0,l.Wm)(Z,{name:"star_border",style:{color:"gold"},size:"md"})]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(W.feedbacks,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t},[(0,l.Uk)(" #"+(0,s.zw)(t+1)+" ",1),(0,l.Wm)(C,{feedback:e},null,8,["feedback"])])))),128))])),_:1})])),_:1})])),_:1})}a(2100),a(71);var z=a(52),F=a.n(z);const O={class:"item"},I={class:"row text-h6 item-title"},B={class:"row text-h6 item-title"},U={class:"row text-h6 item-title"},Z={class:"row text-h6 item-title"},C={class:"row text-h6 item-title"},Q={class:"row text-h6 item-title"},$=(0,l._)("div",{class:"row item-image"},null,-1);function D(e,t,a,i,n,o){return(0,l.wg)(),(0,l.iD)("div",O,[(0,l._)("div",I,"Name: "+(0,s.zw)(a.feedback.name),1),(0,l._)("div",B,"Message: "+(0,s.zw)(a.feedback.message||"<blank>"),1),(0,l._)("div",U,"Basics: "+(0,s.zw)(a.feedback.ratingBasic)+"/5",1),(0,l._)("div",Z,"Slides: "+(0,s.zw)(a.feedback.ratingSlides)+"/5",1),(0,l._)("div",C,"Fluency: "+(0,s.zw)(a.feedback.ratingFluency)+"/5",1),(0,l._)("div",Q,"Overall: "+(0,s.zw)(a.feedback.ratingOverall)+"/5",1),$])}const N={props:["feedback"],data(){return{}},mounted(){}};var P=a(4260);const Y=(0,P.Z)(N,[["render",D]]),A=Y,J={name:"PageIndex",components:{Feedback:A},data(){return{name:"",roll:"",email:"",presenters:"",topic:"",feedbacks:[],ratingBasic:0,ratingSlides:0,ratingFluency:0,ratingOverall:0,message:"",avgStars:0}},mounted(){this.getPresentors(),window.location.href.includes("8080")&&this.checkCompleted()},methods:{getPresentors(){F().get("https://feedbax.plasmatch.in/getPres/"+this.$route.query.id).then((e=>{console.log(e.data.feedbacks),this.topic=e.data.name,this.feedbacks=e.data.feedbacks,this.presenters=e.data.presenters;let t=0;e.data.feedbacks.forEach((e=>{t=0,t+=e.ratingOverall,t+=e.ratingBasic,t+=e.ratingFluency,t+=e.ratingSlides,t/=4,this.avgStars+=t})),this.avgStars=(this.avgStars/e.data.feedbacks.length).toFixed(2)}))},checkCompleted(){const e=localStorage.getItem("completed_ids")||null;e&&JSON.parse(e).includes(this.$route.query.id)&&(this.$q.notify({color:"negative",message:"You have already rated this presentation.",icon:"error"}),this.$router.push("/"))},async submit(){if(!this.ratingBasic||!this.ratingSlides||!this.ratingFluency||!this.ratingOverall)return void this.$q.notify({color:"negative",message:"Please rate all the fields.",icon:"error"});const e={id:this.$route.query.id,name:this.name||"Anonymous",roll:this.roll||"Anonymous",email:this.email||"Anonymous",ratingBasic:this.ratingBasic,ratingSlides:this.ratingSlides,ratingFluency:this.ratingFluency,ratingOverall:this.ratingOverall,message:this.message};try{const t=await F().post("https://feedbax.plasmatch.in/sendFeedback",e);200===t.status&&this.saveInfo(e.id),console.log(t),this.$q.dialog({title:"ThanksðŸ™Œ",dark:!0,message:"Your feedback has been submitted.\n            This will help us improve the experience.",persistent:!0,position:"bottom"}).onOk((()=>{this.$router.push("/")}))}catch(t){console.log(t)}},saveInfo(e){null===localStorage.getItem("completed_ids")?localStorage.setItem("completed_ids",JSON.stringify([e])):localStorage.setItem("completed_ids",JSON.stringify([...JSON.parse(localStorage.getItem("completed_ids")),e])),console.log(localStorage.getItem("completed_ids"))}}};var R=a(4379),E=a(151),j=a(5589),H=a(8159),K=a(7815),M=a(8833),T=a(6114),L=a(4554),G=a(7518),X=a.n(G);const ee=(0,P.Z)(J,[["render",W],["__scopeId","data-v-94d9a2ce"]]),te=ee;X()(J,"components",{QPage:R.Z,QCard:E.Z,QCardSection:j.Z,QExpansionItem:H.Z,QInput:K.Z,QRating:M.Z,QBtn:T.Z,QIcon:L.Z})}}]);